<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Swarm of Life</title>
    <meta title="description" content="A Game of Life simulation implemented on Ethereum Swarm."/>

    <script src="web3.min.js"></script>
    <script
            src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>

    <script src="app.js"></script>

    <style type="text/css">
        .grid { margin:1em auto; border-collapse:collapse }
        .grid td {
            cursor:pointer;
            width: 20px; height:20px;
            border:1px solid #ccc;
            text-align:center;
            font-family:sans-serif; font-size:13px
        }
        .grid td.clicked {
            background-color: #0a0a0a;
            font-weight:bold; color:red;
        }
    </style>
</head>
<body>

</body>
</html>

<script>
    var lastClicked;
    var grid = clickableGrid(5,5,function(el,row,col,i){
        console.log("You clicked on element:",el);
        console.log("You clicked on row:",row);
        console.log("You clicked on col:",col);
        console.log("You clicked on item #:",i);

        changeState(50);

        el.className='clicked';
        if (lastClicked) lastClicked.className='';
        lastClicked = el;
    });

    document.body.appendChild(grid);

    function clickableGrid( rows, cols, callback ){
        var i=0;
        var grid = document.createElement('table');
        grid.className = 'grid';
        for (var r=0;r<rows;++r){
            var tr = grid.appendChild(document.createElement('tr'));
            for (var c=0;c<cols;++c){
                var cell = tr.appendChild(document.createElement('td'));
                cell.innerHTML = "";
//            cell.innerHTML = ++i;
                cell.addEventListener('click',(function(el,r,c,i){
                    return function(){
                        callback(el,r,c,i);
                    }
                })(cell,r,c,i),false);
            }
        }
        return grid;
    }
</script>